{"version":3,"sources":["category.js"],"names":["$","each","_i","el","$img","locations","data","url","length","pins","map","l","encodeURIComponent","pin","attr","replace","join"],"mappings":"AAAA,aASAA,EAAE,WAGEA,EAAE,eAAeC,KAAK,SAAUC,EAAIC,GAChC,IAAIC,EAAOJ,EAAEG,GAETE,EAAYD,EAAKE,KAAK,aACtBC,EAAMH,EAAKE,KAAK,QACpB,GAAID,GAAaE,GAA0B,EAAnBF,EAAUG,OAAY,CAC1C,IAAIC,EAAOJ,EAAUK,IAAI,SAAUC,GAAK,MAAO,OAASC,mBAAmBC,oCAAYF,EAAE,GAAK,IAAMA,EAAE,GAAK,OAC3GP,EAAKU,KAAK,MAAOP,EAAIQ,QAAQ,SAAUN,EAAKO,KAAK","file":"../category.js","sourcesContent":["\"use strict\";\n/// <reference types=\"jquery\" />\n/**\n * Generated URLs of all photo coordinates get quite long so create them\n * dynamically from element data.\n *\n * Expects img elements with class `static-map` and `data-locations` and\n * `data-href` attributes.\n */\n$(function () {\n    /** Must be fully qualified path for use with Mapbox */\n    var pin = 'https://www.trailimage.com/p.png';\n    $('.static-map').each(function (_i, el) {\n        var $img = $(el);\n        // jQuery automatically decodes data\n        var locations = $img.data('locations');\n        var url = $img.data('href');\n        if (locations && url && locations.length > 0) {\n            var pins = locations.map(function (l) { return 'url-' + encodeURIComponent(pin + \"(\" + l[0] + \",\" + l[1] + \")\"); });\n            $img.attr('src', url.replace('-pins-', pins.join(',')));\n        }\n    });\n});\n"]}